# üß™ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

‚úÖ **–ü–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ ES –º–æ–¥—É–ª–∏** - –≤—Å–µ —Ç–µ—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `import` –≤–º–µ—Å—Ç–æ `require`  
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Node.js** - —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Node.js  
‚úÖ **–°–æ–∑–¥–∞–Ω –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π –º–æ–¥—É–ª—å** - `src/utils/test-module.js`  
‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω package.json** - –¥–æ–±–∞–≤–ª–µ–Ω `"type": "module"`  

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
```bash
npm test
```

### –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
```bash
# –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
npm run test:security

# –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
npm run test:performance

# –¢–µ—Å—Ç—ã GDPR
npm run test:gdpr
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
# Node.js (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
node test_advanced_security.js
node test_performance_optimization.js
node test_gdpr_compliance.js

# –ë—Ä–∞—É–∑–µ—Ä (–¥–ª—è GDPR —Ç–µ—Å—Ç–æ–≤)
# –û—Ç–∫—Ä–æ–π—Ç–µ test_gdpr_compliance.js –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. test_advanced_security.js
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `require('jsdom')` –Ω–∞ `await import('jsdom')`
- ‚úÖ –£–±—Ä–∞–Ω—ã fallback CommonJS –∏–º–ø–æ—Ä—Ç—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–º–ø–æ—Ä—Ç–∞

### 2. test_performance_optimization.js  
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω `require('jsdom')` –Ω–∞ `await import('jsdom')`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã `require()` –Ω–∞ `await import()` –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω `src/utils/test-module.js` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è LazyLoader

### 3. test_gdpr_compliance.js
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Node.js —Å jsdom
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã mock-–æ–±—ä–µ–∫—Ç—ã –¥–ª—è `window.app`, `localStorage`, `navigator`
- ‚úÖ –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Node.js

### 4. package.json
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `"type": "module"` –¥–ª—è ES –º–æ–¥—É–ª–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã npm scripts –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫
```
üß™ Starting Advanced Security Features Test Suite...
üîß Initializing security components...
‚úÖ Security components initialized
üìã Testing CSP Configuration...
‚úÖ CSP header generation
‚úÖ CSP default-src directive
...
```

### ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–ú–æ–¥—É–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –≤ `src/`
- **jsdom –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `npm install`
- **Node.js –≤–µ—Ä—Å–∏—è** - —Ç—Ä–µ–±—É–µ—Ç—Å—è Node.js 18+ –¥–ª—è ES –º–æ–¥—É–ª–µ–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
test_advanced_security.js      # –¢–µ—Å—Ç—ã CSP, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —É–≥—Ä–æ–∑
test_performance_optimization.js # –¢–µ—Å—Ç—ã LazyLoader, CacheManager, PerformanceMonitor  
test_gdpr_compliance.js        # –¢–µ—Å—Ç—ã GDPR —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
src/utils/test-module.js       # –¢–µ—Å—Ç–æ–≤—ã–π –º–æ–¥—É–ª—å –¥–ª—è LazyLoader
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm test` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ª—é–±—ã–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –æ—à–∏–±–∫–∏
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞ 