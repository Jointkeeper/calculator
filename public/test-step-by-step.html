<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ—à–∞–≥–æ–≤—ã–π —Ç–µ—Å—Ç –º–æ–¥—É–ª–µ–π</title>
</head>
<body>
    <h1>–ü–æ—à–∞–≥–æ–≤—ã–π —Ç–µ—Å—Ç –º–æ–¥—É–ª–µ–π</h1>
    <div id="output"></div>

    <script type="module">
        const output = document.getElementById('output');
        
        async function testStep(stepName, testFunction) {
            try {
                output.innerHTML += `<h3>üîÑ –¢–µ—Å—Ç: ${stepName}</h3>`;
                await testFunction();
                output.innerHTML += `<p style="color: green;">‚úÖ ${stepName} - –£–°–ü–ï–•</p>`;
                return true;
            } catch (error) {
                output.innerHTML += `<p style="color: red;">‚ùå ${stepName} - –û–®–ò–ë–ö–ê: ${error.message}</p>`;
                console.error(`–û—à–∏–±–∫–∞ –≤ ${stepName}:`, error);
                return false;
            }
        }
        
        try {
            // –¢–µ—Å—Ç 1: AppState
            await testStep('AppState', async () => {
                const { AppState } = await import('../src/core/AppState.js?v=1.0.3');
                const appState = AppState.getInstance();
                console.log('AppState:', appState);
            });
            
            // –¢–µ—Å—Ç 2: NavigationManager
            await testStep('NavigationManager', async () => {
                const { NavigationManager } = await import('../src/managers/NavigationManager.js?v=1.0.3');
                console.log('NavigationManager class:', NavigationManager);
                console.log('getInstance method:', NavigationManager.getInstance);
                const navManager = NavigationManager.getInstance();
                console.log('NavigationManager instance:', navManager);
            });
            
            // –¢–µ—Å—Ç 3: EventHandlers
            await testStep('EventHandlers', async () => {
                const { getEventHandlers } = await import('../src/handlers/EventHandlers.js?v=1.0.3');
                console.log('getEventHandlers function:', getEventHandlers);
                const eventHandlers = getEventHandlers();
                console.log('EventHandlers instance:', eventHandlers);
            });
            
            // –¢–µ—Å—Ç 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è EventHandlers
            await testStep('EventHandlers.initialize()', async () => {
                const { getEventHandlers } = await import('../src/handlers/EventHandlers.js?v=1.0.3');
                const eventHandlers = getEventHandlers();
                eventHandlers.initialize();
                console.log('EventHandlers initialized:', eventHandlers.isInitialized);
            });
            
            output.innerHTML += '<h2 style="color: green;">üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!</h2>';
            
        } catch (error) {
            output.innerHTML += `<p style="color: red;">‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ${error.message}</p>`;
            console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', error);
        }
    </script>
</body>
</html> 